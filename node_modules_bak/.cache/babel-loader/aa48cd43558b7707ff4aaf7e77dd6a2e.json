{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar base_1 = __importDefault(require(\"./base\"));\n\nvar record_1 = __importDefault(require(\"./record\"));\n\nvar table_1 = __importDefault(require(\"./table\"));\n\nvar airtable_error_1 = __importDefault(require(\"./airtable_error\"));\n\nvar Airtable =\n/** @class */\nfunction () {\n  function Airtable(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var defaultConfig = Airtable.default_config();\n    var apiVersion = opts.apiVersion || Airtable.apiVersion || defaultConfig.apiVersion;\n    Object.defineProperties(this, {\n      _apiKey: {\n        value: opts.apiKey || Airtable.apiKey || defaultConfig.apiKey\n      },\n      _apiVersion: {\n        value: apiVersion\n      },\n      _apiVersionMajor: {\n        value: apiVersion.split('.')[0]\n      },\n      _customHeaders: {\n        value: opts.customHeaders || {}\n      },\n      _endpointUrl: {\n        value: opts.endpointUrl || Airtable.endpointUrl || defaultConfig.endpointUrl\n      },\n      _noRetryIfRateLimited: {\n        value: opts.noRetryIfRateLimited || Airtable.noRetryIfRateLimited || defaultConfig.noRetryIfRateLimited\n      },\n      _requestTimeout: {\n        value: opts.requestTimeout || Airtable.requestTimeout || defaultConfig.requestTimeout\n      }\n    });\n\n    if (!this._apiKey) {\n      throw new Error('An API key is required to connect to Airtable');\n    }\n  }\n\n  Airtable.prototype.base = function (baseId) {\n    return base_1.default.createFunctor(this, baseId);\n  };\n\n  Airtable.default_config = function () {\n    return {\n      endpointUrl: process.env.AIRTABLE_ENDPOINT_URL || 'https://api.airtable.com',\n      apiVersion: '0.1.0',\n      apiKey: process.env.AIRTABLE_API_KEY,\n      noRetryIfRateLimited: false,\n      requestTimeout: 300 * 1000\n    };\n  };\n\n  Airtable.configure = function (_a) {\n    var apiKey = _a.apiKey,\n        endpointUrl = _a.endpointUrl,\n        apiVersion = _a.apiVersion,\n        noRetryIfRateLimited = _a.noRetryIfRateLimited,\n        requestTimeout = _a.requestTimeout;\n    Airtable.apiKey = apiKey;\n    Airtable.endpointUrl = endpointUrl;\n    Airtable.apiVersion = apiVersion;\n    Airtable.noRetryIfRateLimited = noRetryIfRateLimited;\n    Airtable.requestTimeout = requestTimeout;\n  };\n\n  Airtable.base = function (baseId) {\n    return new Airtable().base(baseId);\n  };\n\n  Airtable.Base = base_1.default;\n  Airtable.Record = record_1.default;\n  Airtable.Table = table_1.default;\n  Airtable.Error = airtable_error_1.default;\n  return Airtable;\n}();\n\nmodule.exports = Airtable;","map":{"version":3,"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAcA;AAAA;AAAA;AAoBI,oBAAYA,IAAZ,EAA+C;AAAnC;AAAAA;AAAmC;;AAC3C,QAAMC,aAAa,GAAGC,QAAQ,CAACC,cAAT,EAAtB;AAEA,QAAMC,UAAU,GAAGJ,IAAI,CAACI,UAAL,IAAmBF,QAAQ,CAACE,UAA5B,IAA0CH,aAAa,CAACG,UAA3E;AAEAC,UAAM,CAACC,gBAAP,CAAwB,IAAxB,EAA8B;AAC1BC,aAAO,EAAE;AACLC,aAAK,EAAER,IAAI,CAACS,MAAL,IAAeP,QAAQ,CAACO,MAAxB,IAAkCR,aAAa,CAACQ;AADlD,OADiB;AAI1BC,iBAAW,EAAE;AACTF,aAAK,EAAEJ;AADE,OAJa;AAO1BO,sBAAgB,EAAE;AACdH,aAAK,EAAEJ,UAAU,CAACQ,KAAX,CAAiB,GAAjB,EAAsB,CAAtB;AADO,OAPQ;AAU1BC,oBAAc,EAAE;AACZL,aAAK,EAAER,IAAI,CAACc,aAAL,IAAsB;AADjB,OAVU;AAa1BC,kBAAY,EAAE;AACVP,aAAK,EAAER,IAAI,CAACgB,WAAL,IAAoBd,QAAQ,CAACc,WAA7B,IAA4Cf,aAAa,CAACe;AADvD,OAbY;AAgB1BC,2BAAqB,EAAE;AACnBT,aAAK,EACDR,IAAI,CAACkB,oBAAL,IACAhB,QAAQ,CAACgB,oBADT,IAEAjB,aAAa,CAACiB;AAJC,OAhBG;AAsB1BC,qBAAe,EAAE;AACbX,aAAK,EACDR,IAAI,CAACoB,cAAL,IAAuBlB,QAAQ,CAACkB,cAAhC,IAAkDnB,aAAa,CAACmB;AAFvD;AAtBS,KAA9B;;AA4BA,QAAI,CAAC,KAAKb,OAAV,EAAmB;AACf,YAAM,IAAIc,KAAJ,CAAU,+CAAV,CAAN;AACH;AACJ;;AAEDnB,sCAAKoB,MAAL,EAAmB;AACf,WAAOC,eAAKC,aAAL,CAAmB,IAAnB,EAAyBF,MAAzB,CAAP;AACH,GAFD;;AAIOpB,4BAAP;AACI,WAAO;AACHc,iBAAW,EAAES,OAAO,CAACC,GAAR,CAAYC,qBAAZ,IAAqC,0BAD/C;AAEHvB,gBAAU,EAAE,OAFT;AAGHK,YAAM,EAAEgB,OAAO,CAACC,GAAR,CAAYE,gBAHjB;AAIHV,0BAAoB,EAAE,KAJnB;AAKHE,oBAAc,EAAE,MAAM;AALnB,KAAP;AAOH,GARM;;AAUAlB,uBAAP,UAAiB2B,EAAjB,EASC;QARGpB,MAAM;QACNO,WAAW;QACXZ,UAAU;QACVc,oBAAoB;QACpBE,cAAc;AAKdlB,YAAQ,CAACO,MAAT,GAAkBA,MAAlB;AACAP,YAAQ,CAACc,WAAT,GAAuBA,WAAvB;AACAd,YAAQ,CAACE,UAAT,GAAsBA,UAAtB;AACAF,YAAQ,CAACgB,oBAAT,GAAgCA,oBAAhC;AACAhB,YAAQ,CAACkB,cAAT,GAA0BA,cAA1B;AACH,GAfM;;AAiBAlB,kBAAP,UAAYoB,MAAZ,EAA0B;AACtB,WAAO,IAAIpB,QAAJ,GAAe4B,IAAf,CAAoBR,MAApB,CAAP;AACH,GAFM;;AAhFApB,kBAAOqB,cAAP;AACArB,oBAAS6B,gBAAT;AACA7B,mBAAQ8B,eAAR;AACA9B,mBAAQ+B,wBAAR;AAgFX;AA5FA;;AAyHAC,iBAAShC,QAAT","names":["opts","defaultConfig","Airtable","default_config","apiVersion","Object","defineProperties","_apiKey","value","apiKey","_apiVersion","_apiVersionMajor","split","_customHeaders","customHeaders","_endpointUrl","endpointUrl","_noRetryIfRateLimited","noRetryIfRateLimited","_requestTimeout","requestTimeout","Error","baseId","base_1","createFunctor","process","env","AIRTABLE_ENDPOINT_URL","AIRTABLE_API_KEY","_a","base","record_1","table_1","airtable_error_1","module"],"sources":["../src/airtable.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}