{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\n\nvar isBrowser = typeof window !== 'undefined';\n\nvar HttpHeaders =\n/** @class */\nfunction () {\n  function HttpHeaders() {\n    this._headersByLowercasedKey = {};\n  }\n\n  HttpHeaders.prototype.set = function (headerKey, headerValue) {\n    var lowercasedKey = headerKey.toLowerCase();\n\n    if (lowercasedKey === 'x-airtable-user-agent') {\n      lowercasedKey = 'user-agent';\n      headerKey = 'User-Agent';\n    }\n\n    this._headersByLowercasedKey[lowercasedKey] = {\n      headerKey: headerKey,\n      headerValue: headerValue\n    };\n  };\n\n  HttpHeaders.prototype.toJSON = function () {\n    var result = {};\n\n    for (var _i = 0, _a = keys_1.default(this._headersByLowercasedKey); _i < _a.length; _i++) {\n      var lowercasedKey = _a[_i];\n      var headerDefinition = this._headersByLowercasedKey[lowercasedKey];\n      var headerKey = void 0;\n      /* istanbul ignore next */\n\n      if (isBrowser && lowercasedKey === 'user-agent') {\n        // Some browsers do not allow overriding the user agent.\n        // https://github.com/Airtable/airtable.js/issues/52\n        headerKey = 'X-Airtable-User-Agent';\n      } else {\n        headerKey = headerDefinition.headerKey;\n      }\n\n      result[headerKey] = headerDefinition.headerValue;\n    }\n\n    return result;\n  };\n\n  return HttpHeaders;\n}();\n\nmodule.exports = HttpHeaders;","map":{"version":3,"mappings":";;;;;;;;AAAA;;AAEA,IAAMA,SAAS,GAAG,OAAOC,MAAP,KAAkB,WAApC;;AAEA;AAAA;AAAA;AAGI;AACI,SAAKC,uBAAL,GAA+B,EAA/B;AACH;;AAEDC,wCAAIC,SAAJ,EAAuBC,WAAvB,EAA0C;AACtC,QAAIC,aAAa,GAAGF,SAAS,CAACG,WAAV,EAApB;;AAEA,QAAID,aAAa,KAAK,uBAAtB,EAA+C;AAC3CA,mBAAa,GAAG,YAAhB;AACAF,eAAS,GAAG,YAAZ;AACH;;AAED,SAAKF,uBAAL,CAA6BI,aAA7B,IAA8C;AAC1CF,eAAS,WADiC;AAE1CC,iBAAW;AAF+B,KAA9C;AAIH,GAZD;;AAcAF;AACI,QAAMK,MAAM,GAAG,EAAf;;AACA,SAA4B,gCAAK,KAAKN,uBAAV,CAA5B,EAA4BO,cAA5B,EAA4BA,IAA5B,EAAgE;AAA3D,UAAMH,aAAa,SAAnB;AACD,UAAMI,gBAAgB,GAAG,KAAKR,uBAAL,CAA6BI,aAA7B,CAAzB;AAEA,UAAIF,SAAS,SAAb;AACA;;AACA,UAAIJ,SAAS,IAAIM,aAAa,KAAK,YAAnC,EAAiD;AAC7C;AACA;AACAF,iBAAS,GAAG,uBAAZ;AACH,OAJD,MAIO;AACHA,iBAAS,GAAGM,gBAAgB,CAACN,SAA7B;AACH;;AAEDI,YAAM,CAACJ,SAAD,CAAN,GAAoBM,gBAAgB,CAACL,WAArC;AACH;;AACD,WAAOG,MAAP;AACH,GAlBD;;AAmBJ;AAAC,CAxCD;;AA0CAG,iBAASR,WAAT","names":["isBrowser","window","_headersByLowercasedKey","HttpHeaders","headerKey","headerValue","lowercasedKey","toLowerCase","result","_i","headerDefinition","module"],"sources":["../src/http_headers.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}