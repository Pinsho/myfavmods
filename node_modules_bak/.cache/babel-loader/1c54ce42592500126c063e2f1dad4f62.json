{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar internal_config_json_1 = __importDefault(require(\"./internal_config.json\")); // \"Full Jitter\" algorithm taken from https://aws.amazon.com/blogs/architecture/exponential-backoff-and-jitter/\n\n\nfunction exponentialBackoffWithJitter(numberOfRetries) {\n  var rawBackoffTimeMs = internal_config_json_1.default.INITIAL_RETRY_DELAY_IF_RATE_LIMITED * Math.pow(2, numberOfRetries);\n  var clippedBackoffTimeMs = Math.min(internal_config_json_1.default.MAX_RETRY_DELAY_IF_RATE_LIMITED, rawBackoffTimeMs);\n  var jitteredBackoffTimeMs = Math.random() * clippedBackoffTimeMs;\n  return jitteredBackoffTimeMs;\n}\n\nmodule.exports = exponentialBackoffWithJitter;","map":{"version":3,"mappings":";;;;;;;;AAAA,gF,CAEA;;;AACA,SAASA,4BAAT,CAAsCC,eAAtC,EAA6D;AACzD,MAAMC,gBAAgB,GAClBC,+BAAeC,mCAAf,GAAqDC,YAAKJ,eAAL,CADzD;AAEA,MAAMK,oBAAoB,GAAGD,IAAI,CAACE,GAAL,CACzBJ,+BAAeK,+BADU,EAEzBN,gBAFyB,CAA7B;AAIA,MAAMO,qBAAqB,GAAGJ,IAAI,CAACK,MAAL,KAAgBJ,oBAA9C;AACA,SAAOG,qBAAP;AACH;;AAEDE,iBAASX,4BAAT","names":["exponentialBackoffWithJitter","numberOfRetries","rawBackoffTimeMs","internal_config_json_1","INITIAL_RETRY_DELAY_IF_RATE_LIMITED","Math","clippedBackoffTimeMs","min","MAX_RETRY_DELAY_IF_RATE_LIMITED","jitteredBackoffTimeMs","random","module"],"sources":["../src/exponential_backoff_with_jitter.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}