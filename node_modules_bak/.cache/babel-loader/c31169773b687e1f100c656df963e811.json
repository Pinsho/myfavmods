{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar isArray_1 = __importDefault(require(\"lodash/isArray\"));\n\nvar isNil_1 = __importDefault(require(\"lodash/isNil\"));\n\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\n/* eslint-enable @typescript-eslint/no-explicit-any */\n// Adapted from jQuery.param:\n// https://github.com/jquery/jquery/blob/2.2-stable/src/serialize.js\n\n\nfunction buildParams(prefix, obj, addFn) {\n  if (isArray_1.default(obj)) {\n    // Serialize array item.\n    for (var index = 0; index < obj.length; index++) {\n      var value = obj[index];\n\n      if (/\\[\\]$/.test(prefix)) {\n        // Treat each array item as a scalar.\n        addFn(prefix, value);\n      } else {\n        // Item is non-scalar (array or object), encode its numeric index.\n        buildParams(prefix + \"[\" + (typeof value === 'object' && value !== null ? index : '') + \"]\", value, addFn);\n      }\n    }\n  } else if (typeof obj === 'object') {\n    // Serialize object item.\n    for (var _i = 0, _a = keys_1.default(obj); _i < _a.length; _i++) {\n      var key = _a[_i];\n      var value = obj[key];\n      buildParams(prefix + \"[\" + key + \"]\", value, addFn);\n    }\n  } else {\n    // Serialize scalar item.\n    addFn(prefix, obj);\n  }\n}\n\nfunction objectToQueryParamString(obj) {\n  var parts = [];\n\n  var addFn = function addFn(key, value) {\n    value = isNil_1.default(value) ? '' : value;\n    parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(value));\n  };\n\n  for (var _i = 0, _a = keys_1.default(obj); _i < _a.length; _i++) {\n    var key = _a[_i];\n    var value = obj[key];\n    buildParams(key, value, addFn);\n  }\n\n  return parts.join('&').replace(/%20/g, '+');\n}\n\nmodule.exports = objectToQueryParamString;","map":{"version":3,"mappings":";;;;;;;;AAAA;;AACA;;AACA;AAIA;AAEA;AACA;;;AACA,SAASA,WAAT,CAAqBC,MAArB,EAA6BC,GAA7B,EAAkCC,KAAlC,EAAuC;AACnC,MAAIC,kBAAQF,GAAR,CAAJ,EAAkB;AACd;AACA,SAAK,IAAIG,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGH,GAAG,CAACI,MAAhC,EAAwCD,KAAK,EAA7C,EAAiD;AAC7C,UAAME,KAAK,GAAGL,GAAG,CAACG,KAAD,CAAjB;;AACA,UAAI,QAAQG,IAAR,CAAaP,MAAb,CAAJ,EAA0B;AACtB;AACAE,aAAK,CAACF,MAAD,EAASM,KAAT,CAAL;AACH,OAHD,MAGO;AACH;AACAP,mBAAW,CACJC,MAAM,MAAN,IAAU,OAAOM,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,KAAK,IAAvC,GAA8CF,KAA9C,GAAsD,EAAhE,IAAkE,GAD9D,EAEPE,KAFO,EAGPJ,KAHO,CAAX;AAKH;AACJ;AACJ,GAhBD,MAgBO,IAAI,OAAOD,GAAP,KAAe,QAAnB,EAA6B;AAChC;AACA,SAAkB,gCAAKA,GAAL,CAAlB,EAAkBO,cAAlB,EAAkBA,IAAlB,EAA6B;AAAxB,UAAMC,GAAG,SAAT;AACD,UAAMH,KAAK,GAAGL,GAAG,CAACQ,GAAD,CAAjB;AACAV,iBAAW,CAAIC,MAAM,MAAN,GAAUS,GAAV,GAAa,GAAjB,EAAsBH,KAAtB,EAA6BJ,KAA7B,CAAX;AACH;AACJ,GANM,MAMA;AACH;AACAA,SAAK,CAACF,MAAD,EAASC,GAAT,CAAL;AACH;AACJ;;AAED,SAASS,wBAAT,CAAkCT,GAAlC,EAAkD;AAC9C,MAAMU,KAAK,GAAG,EAAd;;AACA,MAAMT,KAAK,GAAG,SAARA,KAAQ,CAACO,GAAD,EAAMH,KAAN,EAAW;AACrBA,SAAK,GAAGM,gBAAMN,KAAN,IAAe,EAAf,GAAoBA,KAA5B;AACAK,SAAK,CAACE,IAAN,CAAcC,kBAAkB,CAACL,GAAD,CAAlB,GAAuB,GAAvB,GAA2BK,kBAAkB,CAACR,KAAD,CAA3D;AACH,GAHD;;AAKA,OAAkB,gCAAKL,GAAL,CAAlB,EAAkBO,cAAlB,EAAkBA,IAAlB,EAA6B;AAAxB,QAAMC,GAAG,SAAT;AACD,QAAMH,KAAK,GAAGL,GAAG,CAACQ,GAAD,CAAjB;AACAV,eAAW,CAACU,GAAD,EAAMH,KAAN,EAAaJ,KAAb,CAAX;AACH;;AAED,SAAOS,KAAK,CAACI,IAAN,CAAW,GAAX,EAAgBC,OAAhB,CAAwB,MAAxB,EAAgC,GAAhC,CAAP;AACH;;AAEDC,iBAASP,wBAAT","names":["buildParams","prefix","obj","addFn","isArray_1","index","length","value","test","_i","key","objectToQueryParamString","parts","isNil_1","push","encodeURIComponent","join","replace","module"],"sources":["../src/object_to_query_param_string.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}